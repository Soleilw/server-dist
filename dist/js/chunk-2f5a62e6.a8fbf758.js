(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f5a62e6"],{"82d4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogMoreStudent=!0}}},[t._v("批量录入学生（上传EXCEL文件）")])],1),a("el-table",{ref:"multipleTable",staticClass:"aip-table",attrs:{data:t.tableDate}},[a("el-table-column",{attrs:{label:"名称",type:"selection",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"文件名",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"上传时间",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.totalPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),a("el-dialog",{attrs:{title:"添加学生信息",visible:t.dialogMoreStudent,width:"500px"},on:{"update:visible":function(e){t.dialogMoreStudent=e}}},[a("div",{staticClass:"btn"},[a("el-select",{attrs:{placeholder:"请选择年级"},on:{change:t.gradeOnChange},model:{value:t.grade,callback:function(e){t.grade=e},expression:"grade"}},t._l(t.gradeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),a("div",{staticClass:"btn"},[a("el-select",{attrs:{placeholder:"请选择班级"},on:{change:t.classOnChange},model:{value:t.classValue,callback:function(e){t.classValue=e},expression:"classValue"}},t._l(t.classList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[t._v("点击下载文件示例")])],1),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"https://school.fengniaotuangou.cn/import/students",data:t.classData,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1,"on-success":t.handleSuccess,headers:t.uploadHeader}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传EXCEL文件")])]),a("el-button",{staticClass:"editor-btn",attrs:{type:"primary"},on:{click:t.upload}},[t._v("导入数据")])],1)],1)},s=[],l=a("a4ac"),i={data:function(){return{dialogMoreStudent:!1,class_id:"",grade:"",gradeList:[],classValue:"",classList:[],tableDate:[],disabledDel:!0,currentPage:1,totalPage:0,fileList:[],classData:{class_id:""}}},computed:{uploadHeader:function(){return{token:localStorage.getItem("token")}}},mounted:function(){this.getGrade(),this.getClass()},methods:{getGrade:function(){var t=this;l["a"].grades(t.currentPage).then((function(e){t.gradeList=e.data}))},getStudent:function(){var t=this;l["a"].students(t.currentPage).then((function(e){t.tableDate=e.data,t.totalPage=e.total}))},getClass:function(t){var e=this;l["a"].classes1(t,30).then((function(t){e.classList=t.data}))},gradeOnChange:function(t){var e=this;e.grade=t,e.getClass(t)},classOnChange:function(t){var e=this;e.class_id=t,console.log(e.class_id)},upload:function(){this.classData.class_id=this.class_id,this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handleSuccess:function(t,e){this.dialogMoreStudent=!1,this.$message.success("导入成功"),this.fileList=[]},handleCurrentChange:function(t){var e=this;e.getSchool()}}},r=i,c=(a("ac1f1"),a("2877")),o=Object(c["a"])(r,n,s,!1,null,"f6eb7c16",null);e["default"]=o.exports},a4ac:function(t,e,a){"use strict";a("ac1f");var n=a("be3b"),s=a("99b1"),l=a.n(s),i={teacher:function(t,e){return n["a"].get(l.a.Teacher,{page:t,state:e})},students:function(t){return n["a"].get(l.a.Students,{page:t})},student:function(t){return n["a"].post(l.a.Student,t)},search:function(t){return n["a"].get(l.a.Students,{number:t})},grade:function(t){return n["a"].post(l.a.Grade,t)},grades:function(t){return n["a"].get(l.a.Grades,{page:t})},_class:function(t){return n["a"].post(l.a.Class,t)},classes:function(t){return n["a"].get(l.a.Classes,{page:t})},classes1:function(t,e){return n["a"].get(l.a.Classes,{grade_id:t,limit:e})},device:function(t){return n["a"].post(l.a.Device,t)},devices:function(t){return n["a"].post(l.a.Devices,{page:t})},family:function(t){return n["a"].get(l.a.Family,{page:t})},announcement:function(t){return n["a"].get(l.a.Announcement,{page:t})}};e["a"]=i},aaa4:function(t,e,a){},ac1f1:function(t,e,a){"use strict";var n=a("aaa4"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-2f5a62e6.a8fbf758.js.map