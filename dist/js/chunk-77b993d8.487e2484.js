(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77b993d8"],{1320:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addSchool}},[e._v("添加学校")])],1),t("el-dialog",{attrs:{title:"添加学校",visible:e.dialogSchool,"close-on-click-modal":!1},on:{"update:visible":function(a){e.dialogSchool=a}}},[t("div",{staticClass:"box"},[t("el-form",{attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"学校名称"}},[t("el-input",{model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"学校地址"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"人脸库(进)"}},[t("el-input",{model:{value:e.form.in_group,callback:function(a){e.$set(e.form,"in_group",a)},expression:"form.in_group"}})],1),t("el-form-item",{attrs:{label:"人脸库(出)"}},[t("el-input",{model:{value:e.form.out_group,callback:function(a){e.$set(e.form,"out_group",a)},expression:"form.out_group"}})],1),t("el-form-item",{attrs:{label:"收费模式"}},[t("el-input",{model:{value:e.form.mode,callback:function(a){e.$set(e.form,"mode",a)},expression:"form.mode"}})],1),t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{model:{value:e.form.user.username,callback:function(a){e.$set(e.form.user,"username",a)},expression:"form.user.username"}})],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{model:{value:e.form.user.password,callback:function(a){e.$set(e.form.user,"password",a)},expression:"form.user.password"}})],1),e._l(e.form.grades,(function(a,l){return t("div",{key:l},[t("el-form-item",{attrs:{label:"年级选择"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:a.title,callback:function(t){e.$set(a,"title",t)},expression:"item.title"}},e._l(e.grade,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"班级"}},[t("el-transfer",{attrs:{data:e.classList,titles:["班级","选中班级"],"button-texts":["取消","确定"]},model:{value:a.classes,callback:function(t){e.$set(a,"classes",t)},expression:"item.classes"}})],1)],1)})),t("el-form-item",{attrs:{label:"操作"}},[t("el-button",{attrs:{type:"success"},on:{click:e.addGrade}},[e._v("添加年级")]),t("el-button",{attrs:{type:"success"},on:{click:e.delGrade}},[e._v("删除年级")])],1),t("div",{staticClass:"submit"},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.newSchool}},[e._v("提交")])],1)],1)],2)],1)]),t("el-table",{attrs:{data:e.tableDate}},[t("el-table-column",{attrs:{prop:"id",label:"学校ID",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"学校名称",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"学校地址",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleShowUser(a.$index,a.row)}}},[e._v("查看用户")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleShowFinancial(a.$index,a.row)}}},[e._v("查看财务")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("删除学校")])]}}])})],1),t("el-dialog",{attrs:{title:"查看学校所有",visible:e.dialogUser,width:"80%"},on:{"update:visible":function(a){e.dialogUser=a}}},[t("div",{staticClass:"box"},[t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleUser},model:{value:e.user,callback:function(a){e.user=a},expression:"user"}},e._l(e.userList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"用户"===e.user?t("div",[t("el-table",{attrs:{data:e.userData}},[t("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"头像",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"姓名",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"性别",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"手机号码",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"身份证",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"是否老师",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"是否班主任",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"是否教职工",align:"center"}})],1)],1):e._e(),"学生"===e.user?t("div",[t("el-table",{attrs:{data:e.userData}},[t("el-table-column",{attrs:{prop:"id",label:"学号",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"性别",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"年龄",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"年级",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"班级",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"生活头像",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"人脸头像",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"默认家长ID",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"默认家长姓名",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"默认家长手机",align:"center"}})],1)],1):e._e(),"老师"===e.user?t("div",[t("el-table",{attrs:{data:e.userData}},[t("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"头像",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"昵称",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"姓名",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"性别",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"手机号码",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"身份证",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"工号",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"年级",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"班级",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"学科",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"人脸头像",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"是否是班主任",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"创建时间",align:"center"}})],1)],1):e._e(),"访客"===e.user?t("div",[t("el-table",{attrs:{data:e.userData}},[t("el-table-column",{attrs:{prop:"id",label:"访客ID",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"用户ID",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"姓名",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"手机号",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"拜访人",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"拜访理由",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"访客人脸",align:"center"}})],1)],1):e._e(),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)])]),t("el-dialog",{attrs:{title:"查看财务",visible:e.dialogFinancial,width:"80%"},on:{"update:visible":function(a){e.dialogFinancial=a}}},[t("div",{staticClass:"box"},[t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleFinancial},model:{value:e.financial,callback:function(a){e.financial=a},expression:"financial"}},e._l(e.financialList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"订单列表"===e.financial?t("div",[t("el-table",{attrs:{data:e.financialData}},[t("el-table-column",{attrs:{prop:"id",label:"学校ID",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"订单ID",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"用户ID",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"用户名",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"商品名称",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"商品价格",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"商品时长",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"订单状态",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"创建时间",align:"center"}})],1)],1):e._e(),"财务统计"===e.financial?t("div",[t("el-table",{attrs:{data:e.financialData}},[t("el-table-column",{attrs:{prop:"id",label:"周总额",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"月总额",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"季度总额",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"上一季度总额",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"年总额",align:"center"}})],1)],1):e._e(),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)])]),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)],1)},n=[],r=(t("4160"),t("b0c0"),t("159b"),t("365c")),s={name:"school",data:function(){return{dialogSchool:!1,form:{name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]},grade:[{value:"大班",label:"大班"},{value:"中班",label:"中班"},{value:"小班",label:"小班"}],classList:[],dialogUser:!1,user:"访客",userList:[{value:1,label:"用户"},{value:2,label:"学生"},{value:3,label:"老师"},{value:4,label:"访客"}],userData:[],dialogFinancial:!1,financial:"订单列表",financialList:[{value:1,label:"订单列表"},{value:2,label:"财务统计"}],financialData:[],tableDate:[],currentPage:1,totalPage:0}},mounted:function(){this.generateData(),this.getSchool()},methods:{getSchool:function(){var e=this;r["a"].schools(e.currentPage).then((function(a){e.tableDate=a.data,e.totalPage=a.total}))},newSchool:function(){var e=this;e.form.grades.forEach((function(e){for(var a=0;a<e.classes.length;a++)e.classes[a]={title:e.classes[a]}})),r["a"].school(e.form).then((function(a){e.dialogSchool=!1,e.getSchool(),e.form={name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]},e.$message.success("提交成功"),e.currentPage=1}))},handleEdit:function(e,a){var t=this;t.dialogSchool=!0,t.form={name:a.name,address:a.address,in_group:a.in_group,out_group:a.out_group,mode:a.mode,user:{username:"",password:""},grades:[]}},handleShowUser:function(e,a){var t=this;t.dialogUser=!0},handleUser:function(e){var a=this;1===e&&(a.user="用户"),2===e&&(a.user="学生"),3===e&&(a.user="老师"),4===e&&(a.user="访客")},handleShowFinancial:function(e,a){var t=this;t.dialogFinancial=!0},handleFinancial:function(e){var a=this;1===e&&(a.financial="订单列表"),2===e&&(a.financial="财务统计")},handleDelete:function(e,a){},addSchool:function(){var e=this;e.dialogSchool=!0,e.form={name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]}},addGrade:function(){var e=this;e.form.grades.push({})},delGrade:function(){self.form.grades.pop({})},generateData:function(e){for(var a=this,t=["小班","1班","2班","3班","4班","5班"],l=0;l<t.length;l++)a.classList.push({key:t[l],label:t[l]});return a.classList},handleCurrentChange:function(e){var a=this;a.getSchool()}}},o=s,c=t("2877"),i=Object(c["a"])(o,l,n,!1,null,null,null);a["default"]=i.exports},"365c":function(e,a,t){"use strict";t("ac1f");var l=t("be3b"),n=t("99b1"),r=t.n(n),s={students:function(e,a){return l["a"].get(r.a.Students,{page:e,class_id:a})},student:function(e){return l["a"].post(r.a.Student,e)},search:function(e){return l["a"].get(r.a.Students,{number:e})},grade:function(e){return l["a"].post(r.a.Grade,e)},grades:function(e){return l["a"].get(r.a.Grades,{page:e})},delGrade:function(e){return l["a"].del(r.a.DelGrade,{grade_id:e})},_class:function(e){return l["a"].post(r.a.Class,e)},classes:function(e,a){return l["a"].get(r.a.Classes,{page:e,grade_id:a})},classes1:function(e,a){return l["a"].get(r.a.Classes,{grade_id:e,limit:a})},device:function(e){return l["a"].post(r.a.Device,e)},devices:function(e){return l["a"].post(r.a.Devices,{page:e})},family:function(e){return l["a"].get(r.a.Family,{page:e})},announcement:function(e){return l["a"].get(r.a.Announcement,{page:e})},bindFamily:function(e,a){return l["a"].get(r.a.BindFamily,{page:e,limit:a})},updateFace:function(e){return l["a"].post(r.a.UpFace,e)},teacher:function(e,a,t){return l["a"].get(r.a.Teacher,{page:e,state:a,worker:t})},audit:function(e){return l["a"].post(r.a.Audit,e)},schools:function(e,a){return l["a"].get(r.a.Schools,{page:e,limit:a})},school:function(e){return l["a"].post(r.a.School,e)},banners:function(e){return l["a"].get(r.a.Banners,{page:e})},banner:function(e){return l["a"].post(r.a.Banner,e)},message:function(e){return l["a"].post(r.a.Message,e)},messages:function(e){return l["a"].get(r.a.Messages,{page:e})},messageType:function(e){return l["a"].post(r.a.MessageType,e)},messageTypes:function(e){return l["a"].get(r.a.MessageTypes,{page:e})},documents:function(e){return l["a"].get(r.a.Documents,{page:e})},delDocument:function(e){return l["a"].del(r.a.DelDocument,{id:e})},document:function(e){return l["a"].post(r.a.Document,e)},buys:function(e){return l["a"].get(r.a.Buys,{page:e})},buy:function(e){return l["a"].post(r.a.Buy,e)},roles:function(e){return l["a"].get(r.a.Roles,{page:e})},role:function(e){return l["a"].post(r.a.Role,e)},delRole:function(e){return l["a"].del(r.a.DelRole,{id:e})},user:function(e){return l["a"].post(r.a.User,e)},users:function(e){return l["a"].get(r.a.Users,{page:e})},resetPassword:function(e){return l["a"].post(r.a.ResetPassword,e)}};a["a"]=s},"99b1":function(e,a){var t="https://school.fengniaotuangou.cn",l={Login:t+"/login",Logout:t+"/logout",ResetPassword:t+"/reset/password",School:t+"/school",Schools:t+"/api/schools",Banner:t+"/banner",Banners:t+"/api/banners",Document:t+"/help/doc",Documents:t+"/help/docs",DelDocument:t+"/help/doc",Message:t+"/document",Messages:t+"/documents",MessageType:t+"/document/type",MessageTypes:t+"/document/types",Students:t+"/students",Search:t+"/student",Student:t+"/student",Grade:t+"/grade",Grades:t+"/grades",DelGrade:t+"/grade",Class:t+"/class",Classes:t+"/classes",Announcement:t+"/announcement",Device:t+"/device",Devices:t+"/devices",Family:t+"/parents",Teacher:t+"/user/infos",Audit:t+"/check/user/info",Buy:t+"/product",Buys:t+"/products",Order:t+"/order",Statistical:t+"/statistical",BindFamily:t+"/wx/users",UpFace:t+"/pass/student",Role:t+"/role",Roles:t+"/roles",DelRole:t+"/role",User:t+"/user",Users:t+"/users"};e.exports=l}}]);
//# sourceMappingURL=chunk-77b993d8.487e2484.js.map