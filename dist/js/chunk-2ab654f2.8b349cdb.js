(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab654f2"],{1320:function(e,a,l){"use strict";l.r(a);var t=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",[l("div",{staticClass:"btn"},[l("el-button",{attrs:{type:"primary"},on:{click:e.addSchool}},[e._v("添加学校")])],1),l("el-dialog",{attrs:{title:"添加学校",visible:e.dialogSchool},on:{"update:visible":function(a){e.dialogSchool=a}}},[l("div",{staticClass:"box"},[l("el-form",{attrs:{model:e.form,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"学校名称"}},[l("el-input",{model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),l("el-form-item",{attrs:{label:"学校地址"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1),l("el-form-item",{attrs:{label:"人脸库(进)"}},[l("el-input",{model:{value:e.form.in_group,callback:function(a){e.$set(e.form,"in_group",a)},expression:"form.in_group"}})],1),l("el-form-item",{attrs:{label:"人脸库(出)"}},[l("el-input",{model:{value:e.form.out_group,callback:function(a){e.$set(e.form,"out_group",a)},expression:"form.out_group"}})],1),l("el-form-item",{attrs:{label:"收费模式"}},[l("el-input",{model:{value:e.form.mode,callback:function(a){e.$set(e.form,"mode",a)},expression:"form.mode"}})],1),l("el-form-item",{attrs:{label:"用户名"}},[l("el-input",{model:{value:e.form.user.username,callback:function(a){e.$set(e.form.user,"username",a)},expression:"form.user.username"}})],1),l("el-form-item",{attrs:{label:"密码"}},[l("el-input",{model:{value:e.form.user.password,callback:function(a){e.$set(e.form.user,"password",a)},expression:"form.user.password"}})],1),e._l(e.form.grades,(function(a,t){return l("div",{key:t},[l("el-form-item",{attrs:{label:"年级选择"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:a.title,callback:function(l){e.$set(a,"title",l)},expression:"item.title"}},e._l(e.grade,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"班级"}},[l("el-transfer",{attrs:{data:e.classList,titles:["班级","选中班级"],"button-texts":["取消","确定"]},model:{value:a.classes,callback:function(l){e.$set(a,"classes",l)},expression:"item.classes"}})],1)],1)})),l("el-form-item",{attrs:{label:"操作"}},[l("el-button",{attrs:{type:"success"},on:{click:e.addGrade}},[e._v("添加年级")]),l("el-button",{attrs:{type:"success"},on:{click:e.delGrade}},[e._v("删除年级")])],1),l("div",{staticClass:"submit"},[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.newSchool}},[e._v("提交")])],1)],1)],2)],1)]),l("el-table",{attrs:{data:e.tableDate}},[l("el-table-column",{attrs:{prop:"id",label:"学校ID",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"学校名称",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"学校地址",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}}),l("el-table-column",{attrs:{label:"操作",align:"center",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(a){return[l("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(l){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑")]),l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(l){return e.handleShowUser(a.$index,a.row)}}},[e._v("查看用户")]),l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(l){return e.handleShowFinancial(a.$index,a.row)}}},[e._v("查看财务")]),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){return e.handleDelete(a.$index,a.row)}}},[e._v("删除学校")])]}}])})],1),l("el-dialog",{attrs:{title:"查看学校所有",visible:e.dialogUser,width:"80%"},on:{"update:visible":function(a){e.dialogUser=a}}},[l("div",{staticClass:"box"},[l("div",{staticClass:"btn"},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleUser},model:{value:e.user,callback:function(a){e.user=a},expression:"user"}},e._l(e.userList,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"用户"===e.user?l("div",[l("el-table",{attrs:{data:e.userData}},[l("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"头像",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"姓名",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"性别",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"手机号码",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"身份证",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"是否老师",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"是否班主任",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"是否教职工",align:"center"}})],1)],1):e._e(),"学生"===e.user?l("div",[l("el-table",{attrs:{data:e.userData}},[l("el-table-column",{attrs:{prop:"id",label:"学号",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"性别",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"年龄",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"年级",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"班级",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"生活头像",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"人脸头像",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"默认家长ID",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"默认家长姓名",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"默认家长手机",align:"center"}})],1)],1):e._e(),"老师"===e.user?l("div",[l("el-table",{attrs:{data:e.userData}},[l("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"头像",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"昵称",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"姓名",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"性别",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"手机号码",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"身份证",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"工号",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"年级",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"班级",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"学科",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"人脸头像",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"是否是班主任",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"创建时间",align:"center"}})],1)],1):e._e(),"访客"===e.user?l("div",[l("el-table",{attrs:{data:e.userData}},[l("el-table-column",{attrs:{prop:"id",label:"访客ID",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"用户ID",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"姓名",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"手机号",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"拜访人",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"拜访理由",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"访客人脸",align:"center"}})],1)],1):e._e(),l("div",{staticClass:"block"},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)])]),l("el-dialog",{attrs:{title:"查看财务",visible:e.dialogFinancial,width:"80%"},on:{"update:visible":function(a){e.dialogFinancial=a}}},[l("div",{staticClass:"box"},[l("div",{staticClass:"btn"},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleFinancial},model:{value:e.financial,callback:function(a){e.financial=a},expression:"financial"}},e._l(e.financialList,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"订单列表"===e.financial?l("div",[l("el-table",{attrs:{data:e.financialData}},[l("el-table-column",{attrs:{prop:"id",label:"学校ID",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"订单ID",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"用户ID",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"用户名",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"商品名称",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"商品价格",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"商品时长",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"订单状态",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"创建时间",align:"center"}})],1)],1):e._e(),"财务统计"===e.financial?l("div",[l("el-table",{attrs:{data:e.financialData}},[l("el-table-column",{attrs:{prop:"id",label:"周总额",align:"center"}}),l("el-table-column",{attrs:{prop:"name",label:"月总额",align:"center"}}),l("el-table-column",{attrs:{prop:"address",label:"季度总额",align:"center"}}),l("el-table-column",{attrs:{prop:"created_at",label:"上一季度总额",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"年总额",align:"center"}})],1)],1):e._e(),l("div",{staticClass:"block"},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)])]),l("div",{staticClass:"block"},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a}}})],1)],1)},r=[],n=(l("4160"),l("b0c0"),l("159b"),l("be3b")),o=l("99b1"),s=l.n(o),c={schools:function(e){return n["a"].get(s.a.Schools,{page:e})},school:function(e){return n["a"].post(s.a.School,e)}},i=c,u={name:"school",data:function(){return{dialogSchool:!1,form:{name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]},grade:[{value:"一年级",label:"一年级"},{value:"二年级",label:"二年级"},{value:"三年级",label:"三年级"},{value:"四年级",label:"四年级"},{value:"五年级",label:"五年级"},{value:"六年级",label:"六年级"},{value:"初一",label:"初一"},{value:"初二",label:"初二"},{value:"初三",label:"初三"}],classList:[],dialogUser:!1,user:"访客",userList:[{value:1,label:"用户"},{value:2,label:"学生"},{value:3,label:"老师"},{value:4,label:"访客"}],userData:[],dialogFinancial:!1,financial:"订单列表",financialList:[{value:1,label:"订单列表"},{value:2,label:"财务统计"}],financialData:[],tableDate:[],currentPage:1,totalPage:0}},mounted:function(){this.generateData(),this.getSchool()},methods:{getSchool:function(){var e=this;i.schools(e.currentPage).then((function(a){e.tableDate=a.data,e.totalPage=a.total}))},newSchool:function(){var e=this;e.form.grades.forEach((function(e){for(var a=0;a<e.classes.length;a++)e.classes[a]={title:e.classes[a]}})),i.school(e.form).then((function(a){e.dialogSchool=!1,e.getSchool(),e.form={name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]},e.$message.success("提交成功"),e.currentPage=1}))},handleEdit:function(e,a){var l=this;l.dialogSchool=!0,l.form={name:a.name,address:a.address,in_group:a.in_group,out_group:a.out_group,mode:a.mode,user:{username:"",password:""},grades:[]}},handleShowUser:function(e,a){var l=this;l.dialogUser=!0},handleUser:function(e){var a=this;1===e&&(a.user="用户"),2===e&&(a.user="学生"),3===e&&(a.user="老师"),4===e&&(a.user="访客")},handleShowFinancial:function(e,a){var l=this;l.dialogFinancial=!0},handleFinancial:function(e){var a=this;1===e&&(a.financial="订单列表"),2===e&&(a.financial="财务统计")},handleDelete:function(e,a){},addSchool:function(){var e=this;e.dialogSchool=!0,e.form={name:"",address:"",in_group:"",out_group:"",mode:1,user:{username:"",password:""},grades:[]}},addGrade:function(){var e=this;e.form.grades.push({})},delGrade:function(){self.form.grades.pop({})},generateData:function(e){for(var a=this,l=["一班","二班","三班","四班","五班","六班","七班","八班","九班","十班"],t=0;t<l.length;t++)a.classList.push({key:l[t],label:l[t]});return a.classList},handleCurrentChange:function(e){var a=this;a.getSchool()}}},d=u,p=l("2877"),b=Object(p["a"])(d,t,r,!1,null,null,null);a["default"]=b.exports},"159b":function(e,a,l){var t=l("da84"),r=l("fdbc"),n=l("17c2"),o=l("9112");for(var s in r){var c=t[s],i=c&&c.prototype;if(i&&i.forEach!==n)try{o(i,"forEach",n)}catch(u){i.forEach=n}}},"17c2":function(e,a,l){"use strict";var t=l("b727").forEach,r=l("a640"),n=l("ae40"),o=r("forEach"),s=n("forEach");e.exports=o&&s?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,a,l){"use strict";var t=l("23e7"),r=l("17c2");t({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"99b1":function(e,a){var l="https://school.fengniaotuangou.cn",t={Login:l+"/login",Logout:l+"/logout",School:l+"/school",Schools:l+"/api/schools",Banner:l+"/banner",Banners:l+"/api/banners",Document:l+"/help/doc",Documents:l+"/help/docs",Message:l+"/document",Messages:l+"/documents",MessageType:l+"/document/type",MessageTypes:l+"/document/types",Students:l+"/students",Search:l+"/student",Student:l+"/student",Grade:l+"/grade",Grades:l+"/grades",Class:l+"/class",Classes:l+"/classes",Announcement:l+"/announcement",Device:l+"/device",Devices:l+"/devices",Family:l+"/family",Teacher:l+"/user/infos",Audit:l+"/check/user/info",Buy:l+"/product",Buys:l+"/products",Order:l+"/order",Statistical:l+"/statistical",BindFamily:l+"/wx/users",UpFace:l+"/pass/student"};e.exports=t}}]);
//# sourceMappingURL=chunk-2ab654f2.8b349cdb.js.map