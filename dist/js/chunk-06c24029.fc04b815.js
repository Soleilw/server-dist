(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06c24029"],{"159b":function(e,t,a){var n=a("da84"),l=a("fdbc"),r=a("17c2"),s=a("9112");for(var i in l){var o=n[i],c=o&&o.prototype;if(c&&c.forEach!==r)try{s(c,"forEach",r)}catch(u){c.forEach=r}}},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,l=a("a640"),r=a("ae40"),s=l("forEach"),i=r("forEach");e.exports=s&&i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var n=a("23e7"),l=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"49e5":function(e,t,a){"use strict";a("ac1f");var n=a("be3b"),l=a("99b1"),r=a.n(l),s={teacher:function(e,t){return n["a"].get(r.a.Teacher,{page:e,state:t})},students:function(e){return n["a"].get(r.a.Students,{page:e})},student:function(e){return n["a"].post(r.a.Student,e)},search:function(e){return n["a"].get(r.a.Students,{number:e})},grade:function(e){return n["a"].post(r.a.Grade,e)},grades:function(e){return n["a"].get(r.a.Grades,{page:e})},_class:function(e){return n["a"].post(r.a.Class,e)},classes:function(e){return n["a"].get(r.a.Classes,{page:e})},classes1:function(e,t){return n["a"].get(r.a.Classes,{grade_id:e,limit:t})},device:function(e){return n["a"].post(r.a.Device,e)},devices:function(e){return n["a"].post(r.a.Devices,{page:e})},family:function(e){return n["a"].get(r.a.Family,{page:e})},announcement:function(e){return n["a"].get(r.a.Announcement,{page:e})},bindFamily:function(e,t){return n["a"].get(r.a.BindFamily,{page:e,limit:t})},qiniu:function(){return n["a"].get("https://api.fengniaotuangou.cn/api/upload/token")},updateFace:function(e){return n["a"].post(r.a.UpFace,e)}};t["a"]=s},9263:function(e,t,a){"use strict";var n=a("ad6d"),l=a("9f7f"),r=RegExp.prototype.exec,s=String.prototype.replace,i=r,o=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=l.UNSUPPORTED_Y||l.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||c;d&&(i=function(e){var t,a,l,i,d=this,g=c&&d.sticky,p=n.call(d),f=d.source,b=0,m=e;return g&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,b++),a=new RegExp("^(?:"+f+")",p)),u&&(a=new RegExp("^"+f+"$(?!\\s)",p)),o&&(t=d.lastIndex),l=r.call(g?a:d,m),g?l?(l.input=l.input.slice(b),l[0]=l[0].slice(b),l.index=d.lastIndex,d.lastIndex+=l[0].length):d.lastIndex=0:o&&l&&(d.lastIndex=d.global?l.index+l[0].length:t),u&&l&&l.length>1&&s.call(l[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(l[i]=void 0)})),l}),e.exports=i},"99b1":function(e,t){var a="https://school.fengniaotuangou.cn",n={Login:a+"/login",Logout:a+"/logout",School:a+"/school",Schools:a+"/api/schools",Banner:a+"/banner",Banners:a+"/api/banners",Document:a+"/help/doc",Documents:a+"/help/docs",Message:a+"/document",Messages:a+"/documents",MessageType:a+"/document/type",MessageTypes:a+"/document/types",Students:a+"/students",Search:a+"/student",Student:a+"/student",Grade:a+"/grade",Grades:a+"/grades",Class:a+"/class",Classes:a+"/classes",Announcement:a+"/announcement",Device:a+"/device",Devices:a+"/devices",Family:a+"/family",Teacher:a+"/user/infos",Audit:a+"/check/user/info",Buy:a+"/product",Buys:a+"/products",Order:a+"/order",Statistical:a+"/statistical",BindFamily:a+"/wx/users",UpFace:a+"/pass/student"};e.exports=n},"9f7f":function(e,t,a){"use strict";var n=a("d039");function l(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=l("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=l("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),l=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},f184:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addClass}},[e._v("添加班级")])],1),a("div",{staticClass:"btn"},[a("el-select",{attrs:{placeholder:"请选择年级"},model:{value:e.grade,callback:function(t){e.grade=t},expression:"grade"}},e._l(e.gradeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-dialog",{attrs:{title:"添加年级",visible:e.dialogClass},on:{"update:visible":function(t){e.dialogClass=t}}},[a("div",{staticClass:"box"},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"选择年级"}},[a("el-select",{attrs:{placeholder:"请选择年级"},model:{value:e.form.grade_id,callback:function(t){e.$set(e.form,"grade_id",t)},expression:"form.grade_id"}},e._l(e.formGradeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"班级名称"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newClass}},[e._v("提交")])],1)],1)],1)],1)]),a("el-table",{ref:"multipleTable",attrs:{data:e.tableDate}},[a("el-table-column",{attrs:{label:"名称",type:"selection",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"班级ID",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"年级",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"班级",align:"center"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleStudent(t.$index,t.row)}}},[e._v("查看学生")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleTeacher(t.$index,t.row)}}},[e._v("教师列表")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"查看学生",visible:e.dialogStudent},on:{"update:visible":function(t){e.dialogStudent=t}}},[a("div",{staticClass:"box"},[a("el-table",{attrs:{data:e.studentDate}},[a("el-table-column",{attrs:{prop:"id",label:"班级总人数",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"学号",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"性别",align:"center"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"人脸头像",align:"center"}})],1)],1)]),a("el-dialog",{attrs:{title:"查看教师",visible:e.dialogTeacher},on:{"update:visible":function(t){e.dialogTeacher=t}}},[a("div",{staticClass:"box"},[a("el-table",{ref:"multipleTable",attrs:{data:e.TeacherDate}},[a("el-table-column",{attrs:{label:"名称",type:"selection",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"工号",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"性别",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"学科",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"是否为班主任",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}},[e._v("删除该老师身份")])]}}])})],1)],1)]),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)},l=[],r=(a("4160"),a("159b"),a("49e5")),s={name:"classms",data:function(){return{dialogClass:!1,form:{grade_id:"",title:""},formGradeList:[],grade:"",gradeList:[{value:0,title:"全部"}],dialogStudent:!1,studentDate:[],dialogTeacher:!1,TeacherDate:[],tableDate:[{}],currentPage:0,totalPage:1}},mounted:function(){this.getGrade(),this.getClass()},methods:{getGrade:function(){var e=this;r["a"].grades(e.currentPage).then((function(t){t.data.forEach((function(t){e.gradeList.push(t)}))}))},addClass:function(){var e=this;e.dialogClass=!0,r["a"].grades(e.currentPage).then((function(t){e.formGradeList=t.data}))},getClass:function(){var e=this;r["a"].classes(e.currentPage).then((function(t){e.tableDate=t.data,e.totalPage=t.total}))},newClass:function(){var e=this;e.gradeList.forEach((function(t){e.grade===t.id&&(e.form.grade_id=t.id)})),r["a"]._class(e.form).then((function(t){e.$message.success("提交成功"),e.dialogClass=!1,e.getClass(),e.grade="",e.form={},e.currentPage=1}))},handleStudent:function(){var e=this;e.dialogStudent=!0},handleTeacher:function(){var e=this;e.dialogTeacher=!0},handleDel:function(){},handleCurrentChange:function(e){var t=this;t.getClass()}}},i=s,o=a("2877"),c=Object(o["a"])(i,n,l,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-06c24029.fc04b815.js.map